(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{7454:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/play",function(){return n(1963)}])},2602:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return s},noSSR:function(){return i}});let r=n(8754);n(5893),n(7294);let a=r._(n(5491));function o(e){return{default:(null==e?void 0:e.default)||e}}function i(e,t){return delete t.webpack,delete t.modules,e(t)}function s(e,t){let n=a.default,r={loading:e=>{let{error:t,isLoading:n,pastDelay:r}=e;return null}};e instanceof Promise?r.loader=()=>e:"function"==typeof e?r.loader=e:"object"==typeof e&&(r={...r,...e});let s=(r={...r,...t}).loader;return(r.loadableGenerated&&(r={...r,...r.loadableGenerated},delete r.loadableGenerated),"boolean"!=typeof r.ssr||r.ssr)?n({...r,loader:()=>null!=s?s().then(o):Promise.resolve(o(()=>null))}):(delete r.webpack,delete r.modules,i(n,r))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1159:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return r}});let r=n(8754)._(n(7294)).default.createContext(null)},5491:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return f}});let r=n(8754)._(n(7294)),a=n(1159),o=[],i=[],s=!1;function l(e){let t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(e=>(n.loading=!1,n.loaded=e,e)).catch(e=>{throw n.loading=!1,n.error=e,e}),n}class u{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function c(e){return function(e,t){let n=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),o=null;function l(){if(!o){let t=new u(e,n);o={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return o.promise()}if(!s){let e=n.webpack?n.webpack():n.modules;e&&i.push(t=>{for(let n of e)if(t.includes(n))return l()})}function c(e,t){!function(){l();let e=r.default.useContext(a.LoadableContext);e&&Array.isArray(n.modules)&&n.modules.forEach(t=>{e(t)})}();let i=r.default.useSyncExternalStore(o.subscribe,o.getCurrentValue,o.getCurrentValue);return r.default.useImperativeHandle(t,()=>({retry:o.retry}),[]),r.default.useMemo(()=>{var t;return i.loading||i.error?r.default.createElement(n.loading,{isLoading:i.loading,pastDelay:i.pastDelay,timedOut:i.timedOut,error:i.error,retry:o.retry}):i.loaded?r.default.createElement((t=i.loaded)&&t.default?t.default:t,e):null},[e,i])}return c.preload=()=>l(),c.displayName="LoadableComponent",r.default.forwardRef(c)}(l,e)}function d(e,t){let n=[];for(;e.length;){let r=e.pop();n.push(r(t))}return Promise.all(n).then(()=>{if(e.length)return d(e,t)})}c.preloadAll=()=>new Promise((e,t)=>{d(o).then(e,t)}),c.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let n=()=>(s=!0,t());d(i,e).then(n,n)})),window.__NEXT_PRELOADREADY=c.preloadReady;let f=c},1963:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return D},default:function(){return T}});var r=n(5893),a=n(7820),o=n(5152),i=n.n(o),s=n(1163),l=n(7294),u=n(7442),c=n(1647),d=e=>{let{placementName:t,alias:n}=e,a=(0,l.useRef)(null),o=()=>["horizontal_sticky","mobile_horizontal_sticky","video_slider"].includes(t);return(0,l.useEffect)(()=>{let e;console.log("[PROSPER] add",n);let r=(n,r)=>{console.log("[PROSPER] removed",t),"vertical_sticky"===t?r.Config.verticalSticky().destroy():n.removePlacement(e.instance())};return self.__VM.push((r,i)=>{"vertical_sticky"===t?i.Config.verticalSticky().display():e=i.Config.get(t,n).display(o()?{body:!0}:a.current)}),()=>{self.__VM.push(r)}},[]),(0,r.jsx)("div",{ref:a,className:"w-[160px]"})},f=n(899),y=n(5249),m=n(3508),v=n(7409),h=n(299),p=n(4041),_=n(6349),b=n(1274),g=n.n(b),w=n(7801),E=n.n(w),S=e=>{let{dispatch:t}=e;return(0,r.jsx)("button",{className:E().fullscreen,type:"button",onClick:t,children:(0,r.jsx)("img",{src:"/images/loader/fullscreen.svg",alt:"Fullscreen",width:37,height:37})})},x=n(4522),P=n.n(x),C=e=>{let{loadingProgression:t}=e,n=Math.round(100*t);return(0,r.jsxs)("div",{className:"".concat(P().loader," max-w-5xl"),children:[(0,r.jsx)("img",{src:"/images/loader/running-stumbler.gif",alt:"Running stumbler",width:213,height:120,className:"relative top-8 mx-auto"}),(0,r.jsxs)("div",{className:"relative my-4 flex h-9 w-full items-center gap-x-2 rounded-lg border-2 border-solid border-black bg-transparent",children:[(0,r.jsx)("div",{className:"flex h-full items-center justify-end rounded-lg bg-cover bg-no-repeat",style:{width:"".concat(n,"%"),backgroundImage:"url('/images/loader/bar.png')"}}),(0,r.jsxs)("span",{className:"".concat(n>95?"absolute right-3":""," text-border-2 mr-2 font-lilita text-xs text-orange-light"),children:[n," %"]})]})]})};let I="video_2";var U=e=>{let{onComplete:t}=e,n=(0,l.useRef)(null),a=(0,l.useRef)(null),o=(0,l.useRef)(null),[i,s]=(0,l.useState)(!1);(0,l.useEffect)(()=>(v(),document.body.style.overflow="hidden",()=>{_(),document.body.style.overflow=""}),[]);let u=()=>{console.log("[VIDEO] No ad returned."),_()},c=()=>{console.log("[VIDEO] FAIL SAFE TIMER TRIGGERED, CLOSING THE PLAYER."),_()},d=()=>{console.log("[VIDEO] Video Started."),a.current&&clearTimeout(a.current),s(!0),b(),document.body.style.overflow="hidden",o.current=setTimeout(c,35e3)},f=()=>{console.log("[VIDEO] RENDERED")},y=()=>{console.log("[VIDEO] SLOT_VIDEO_ALL_ADS_COMPLETE"),_()},m=()=>{console.log("[VIDEO] Video ad skipped"),_()},v=()=>{console.log("[VIDEO] initialize Custom Video"),a.current=setTimeout(u,1e4),window.__VM=window.__VM||[],window.__VM.push((e,t)=>{let n=t.Placement.PLACEMENT_EVENTS;t.Config.get(I).activate("player").videoApi(e=>{console.log("[VIDEO] video added.. waiting for demand..."),h();let r=e.placement();r.off(n.RENDERED,f),r.off(n.SLOT_VIDEO_AD_STARTED,d),r.off(n.SLOT_VIDEO_ALL_ADS_COMPLETE,y),r.off(t.Placement.PLACEMENT_EVENTS.SLOT_VIDEO_AD_SKIPPED,m),r.off(t.Placement.PLACEMENT_EVENTS.SLOT_VIDEO_AD_ERROR,u),r.on(n.RENDERED,f),r.on(n.SLOT_VIDEO_AD_STARTED,d),r.on(n.SLOT_VIDEO_ALL_ADS_COMPLETE,y),r.on(t.Placement.PLACEMENT_EVENTS.SLOT_VIDEO_AD_SKIPPED,m),r.on(t.Placement.PLACEMENT_EVENTS.SLOT_VIDEO_AD_ERROR,u)})})},h=()=>{n.current&&(n.current.style.width="1px",n.current.style.height="1px",n.current.style.opacity="0"),s(!1)},p=()=>{n.current&&(n.current.style.opacity="unset",n.current.style.width="100%",n.current.style.height="unset")},_=()=>{h(),a.current&&clearTimeout(a.current),o.current&&clearTimeout(o.current),console.log("[VIDEO] closeVideoPlayer."),document.body.style.overflow="",t(),window.__VM=window.__VM||[],window.__VM.push((e,t)=>{e.placements.forEach(t=>{t.anyName===I&&e.removePlacement(t)})})},b=()=>{n.current&&(n.current.style.display="block"),p()};return(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[i&&(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50"}),(0,r.jsx)("div",{id:"player",ref:n,className:"relative z-10 aspect-video w-full max-w-5xl"})]})},L=(0,l.createContext)({});let O=i()(Promise.resolve().then(n.bind(n,7442)).then(e=>e.Unity),{loadableGenerated:{webpack:()=>[7442]},ssr:!1}),N=JSON.parse("false");var k=()=>{let e=(0,s.useRouter)(),{OS:t}=(0,m.ZP)(),{country:n}=(0,l.useContext)(y.Z),[o,i]=(0,l.useState)(!1),b=(0,l.useMemo)(()=>t&&t!==c.Ak.DESKTOP,[t]),{gameConfig:w}=(0,l.useContext)(L),{paymentService:E}=(0,v.I)({gameConfig:w}),x="".concat("https://live-assets2.web.stumbleguys.com","/unity/").concat(w.attributes.version,"/").concat(w.attributes.environment,"/").concat(w.attributes.hash),P="release"===w.attributes.build_type?".unityweb":"",{unityProvider:I,isLoaded:k,loadingProgression:j,sendMessage:D,addEventListener:T,removeEventListener:M,requestFullscreen:A}=(0,u.useUnityContext)({loaderUrl:"".concat(x,"/WebGL.loader.js"),dataUrl:"".concat(x,"/WebGL.data").concat(P),frameworkUrl:"".concat(x,"/WebGL.framework.js").concat(P),codeUrl:"".concat(x,"/WebGL.wasm").concat(P),streamingAssetsUrl:"".concat(x,"/StreamingAssets"),cacheControl:e=>e.match(/\.data/)||e.match(/\.bundle/)||e.match(/\.mp4/)||e.match(/\.wav/)?"immutable":"no-store",companyName:"Scopely",productName:"Stumble Guys",productVersion:w.attributes.version});(0,l.useEffect)(()=>{let t=e=>{e.includes("/play")||window.stop()};return e.events.on("routeChangeStart",t),()=>{e.events.off("routeChangeStart",t)}},[]),(0,l.useEffect)(()=>(k&&(T("SendUnityMessage",G),T("StartPurchase",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];R(...t)}),T("GetItemPrices",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];V(...t)}),D("ScopelyId","SetUnityInstanceAvailable"),D("PusherManager","SetUnityInstanceAvailable")),()=>{k&&(M("SendUnityMessage",G),M("StartPurchase",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];R(...t)}),M("GetItemPrices",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];V(...t)}))}),[k,T,M]);let R=(0,l.useCallback)(async function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!E)return;let[r,o,i,s,l]=t,u=!1;"boolean"==typeof l?u=l:"string"==typeof l&&(u="true"===l.toLowerCase());let c=await (0,_.V6)(E,r,o,i,"webgl",s,u);c.status===a.L0.SUCCESSFUL?D("WebGLPurchaseReceiver","PurchaseResponse",JSON.stringify(c.paymentInfo.paymentId)):D("WebGLPurchaseReceiver","PurchaseIncompleteResponse")},[E,k]),V=(0,l.useCallback)(async function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!E)return;let[a]=t,o=a;a&&"--"!==a||(o=n);let i=await E.getItemPrices(o);k&&D("WebGLPurchaseReceiver","ItemPricesResponse",JSON.stringify(i))},[E,k]),G=(0,l.useCallback)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r,a,o]=t;k&&D(r,a,o)},[k]),F=(0,l.useCallback)(()=>{k&&A(!0)},[k]);return(0,r.jsx)(h.Z,{title:c.H,children:(0,r.jsx)("div",{className:"".concat(g().sky),children:(0,r.jsxs)(p.Z,{classContainer:"flex-col justify-start items-center",className:"".concat(b?"pt-24":"pt-12"," pb-52 lg:pt-8 xl:pt-12 2xl:pt-16"),children:[b?(0,r.jsx)(f.Z,{showSteam:!1}):(0,r.jsxs)(r.Fragment,{children:[!o&&(0,r.jsx)(U,{onComplete:()=>{console.log("[VIDEO] AD FINISHED."),i(!0)}}),(0,r.jsxs)("div",{className:"flex w-full items-start justify-center gap-x-6",children:[(0,r.jsx)(d,{placementName:"skyscraper"}),!k&&(0,r.jsx)(C,{loadingProgression:j}),(0,r.jsxs)("div",{className:"flex w-full max-w-5xl flex-col ".concat(k?"block":"hidden"),children:[o&&(0,r.jsx)(O,{unityProvider:I,className:g().canvas}),k&&(0,r.jsx)(S,{dispatch:F})]}),(0,r.jsx)(d,{placementName:"skyscraper"})]})]}),N&&(0,r.jsxs)("div",{className:"".concat(k?"mt-40":"mt-14"," flex flex-col text-white"),children:[(0,r.jsxs)("pre",{children:["Base URL: ",x]}),(0,r.jsxs)("pre",{children:["Environment: ",w.attributes.environment]}),(0,r.jsxs)("pre",{children:["Version: ",w.attributes.version]}),(0,r.jsxs)("pre",{children:["Hash: ",w.attributes.hash]}),(0,r.jsxs)("pre",{children:["Server URL: ",w.attributes.server_base_url]})]})]})})})},j=e=>{let{gameConfig:t,children:n}=e,a=(0,l.useMemo)(()=>({gameConfig:t}),[t]);return(0,r.jsx)(L.Provider,{value:a,children:n})},D=!0,T=e=>(0,r.jsx)(j,{...e,children:(0,r.jsx)(k,{})})},7409:function(e,t,n){"use strict";n.d(t,{I:function(){return l}});var r=n(7820),a=n(7294),o=n(1647),i=n(7209);class s{async createCheckout(e){var t,n,r,a;let o=null!==(r=null===(t=e.metadata)||void 0===t?void 0:t.deviceid)&&void 0!==r?r:null,i=null!==(a=null===(n=e.metadata)||void 0===n?void 0:n.isOneStopShopPurchase)&&void 0!==a&&a;o?sessionStorage.setItem("__checkoutDeviceID",o):sessionStorage.removeItem("__checkoutDeviceID"),i?sessionStorage.setItem("__isOneStopShopPurchase",i):sessionStorage.removeItem("__isOneStopShopPurchase");let s=await fetch("".concat(this.url).concat("/playgami/create-checkout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error("Failed to create checkout. Status: ".concat(s.status));return await s.json()}async claimPayment(e){let t=sessionStorage.getItem("__checkoutDeviceID"),n=sessionStorage.getItem("__isOneStopShopPurchase"),r=this.tracker.getDeviceToken(),a={"Content-Type":"application/json"};r&&(a["x-stumble-device-token"]=r);let o=await fetch("".concat(this.url).concat("/playgami/claim"),{method:"POST",headers:a,body:JSON.stringify({paymentId:e,deviceId:t,isOneStopShopPurchase:n})});if(!o.ok)throw Error("Failed to claim payment. Status: ".concat(o.status))}constructor({url:e,tracker:t}){this.url=e,this.tracker=t}}let l=e=>{let{gameConfig:t}=e,[n,l]=(0,a.useState)(null),[u,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(!t||!t.id){console.error("gameConfig is invalid or undefined",t);return}let e=i.w.getInstance(),n=new s({url:t.attributes.server_base_url,tracker:e}),a=new r.Ai(o.TC,o.H).withGatewayDomain("https://payment-gateway.prod.payments.playgami.scopely.com");l(new r.te(a,n,e)),c(n)},[null==t?void 0:t.id]),{paymentService:n,gameDelegate:u}}},4041:function(e,t,n){"use strict";var r=n(5893),a=n(8369),o=n.n(a);t.Z=e=>{let{children:t,className:n="",separator:a="",classContainer:i="flex-col justify-start lg:flex-row",decorator:s}=e;return(0,r.jsxs)("section",{className:"relative flex items-center justify-center ".concat(n),children:[a&&(0,r.jsx)("div",{className:a}),(0,r.jsx)("div",{className:"relative flex w-full max-w-7xl px-4 2xl:px-0 ".concat(i),children:t}),s&&(0,r.jsx)("div",{className:o().decorator,children:(0,r.jsx)("div",{className:"".concat(o().decorator__content," max-w-8xl"),children:s})})]})}},6349:function(e,t,n){"use strict";n.d(t,{$i:function(){return p},T4:function(){return b},cM:function(){return g},R8:function(){return E},V6:function(){return w},_O:function(){return S},XB:function(){return d},p_:function(){return _},B:function(){return f}});var r=n(608);class a{claim(e,t,n){return this.repository.claim(e,t,n)}constructor(e){this.repository=e}}let o=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"POST",a=await fetch("".concat(e).concat(t),{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!a.ok)throw a.status;return!0};class i{async claim(e,t,n){return o(e,"/web-shop/claim-free-item",{UserName:t,PurchasableItem:n})}}let s=new a(new i);var l=n(9009);let u=["en","ar","bg","cn","tw","cs","fr","de","he","it","ja","ko","pl","pt","ro","ru","es","th","tr","vi"],c=e=>{let t=new Date(new Date().toISOString());return new Date(e).getTime()-t.getTime()<0||void 0===e},d=function(e){let{attributes:t}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.some(e=>e.itemId===(null==t?void 0:t.sku_name))},f=(e,t,n,r)=>{let a=y(n);return h(e.map(e=>{let o=m(e,t,n,a,r);return o.data.length>0?v(e,o):null}))},y=e=>{let t={};return e.items.forEach(e=>{t[e.sku]=e.price}),t},m=(e,t,n,r,a)=>({data:e.attributes.offers.data.map(e=>{let{id:a}=e,o=t.find(e=>e.id===a)||e,i=o.attributes.initial_price_id?r[o.attributes.initial_price_id]:null,s=r[o.attributes.final_price_id];return{...o,attributes:{...o.attributes,price:{amount:s,currency:n.country.currency,discount:i?Math.ceil((1-s/i)*100):null,symbol:n.country.symbol}}}}).filter(e=>!c(e.attributes.EndDateTime)).filter(e=>!a||d(e,a.allowedOffers))}),v=(e,t)=>({...e,attributes:{...e.attributes,offers:t}}),h=e=>e.filter(e=>null!==e),p=e=>{let t=new Date(new Date().toISOString()),n=new Date(e).getTime()-t.getTime();if(n<0||void 0===e)return"";let r=Math.floor(n/864e5),a=Math.floor(n/36e5%24),o=Math.floor(n/1e3/60%60),i=Math.floor(n/1e3%60);return 0===r&&0===a&&0===o&&0===i?"":"".concat(r>0?"".concat(r,"d"):""," ").concat(a>0?"".concat(a,"h"):""," ").concat(o>0?"".concat(o,"m"):""," ").concat(i,"s")},_=e=>{let t=new Date(new Date().toISOString()),n=new Date(e).getTime()-t.getTime();return n>0&&n<=864e5},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD";return new Intl.NumberFormat(e,{style:"currency",currency:n}).format(t)},g=(e,t)=>{let n=e.find(e=>e.attributes.href===t);return(null==n?void 0:n.attributes.metadescription)||""},w=async(e,t,n,r,a,o,i)=>e.startPurchase({sku:t,userId:n,locale:x(o),metadata:{platform:a,deviceid:r,isOneStopShopPurchase:i.toString()}}),E=async(e,t,n)=>s.claim(n.attributes.server_base_url,t,e),S=async(e,t,n,r)=>{let a=e.map(e=>{let{attributes:t}=e;return t.sku_name});r(await l.S2.validate(n.attributes.server_base_url,t,a))},x=e=>void 0!==e&&u.includes(e)?e:r.a},8369:function(e){e.exports={decorator:"Container_decorator__CKhkr",decorator__content:"Container_decorator__content__wygpE"}},1274:function(e){e.exports={sky:"Play_sky__IyYYV",canvas:"Play_canvas__OVhhV"}},7801:function(e){e.exports={fullscreen:"Fullscreen_fullscreen__JcYpm"}},4522:function(e){e.exports={loader:"Loader_loader__HaiDG"}},5152:function(e,t,n){e.exports=n(2602)},9929:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Unity=void 0;var r=n(7294),a=n(7294),o=n(25),i=n(5421),s=n(8396),l=n(2340),u=(0,a.forwardRef)(function(e,t){var n=(0,a.useRef)(null),u=(0,o.useUnityCanvasId)(e),c=(0,s.useUnityArguments)(e),d=(0,l.useUnityLoader)(e.unityProvider.unityConfig);return(0,i.useUnityInstance)(d,n.current,c,e.unityProvider),(0,r.useImperativeHandle)(t,function(){return n.current}),(0,r.createElement)("canvas",{ref:n,id:u,style:e.style,className:e.className,tabIndex:e.tabIndex})});t.Unity=u},9090:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorMessages=void 0,t.errorMessages={genericNoUnityInstance:"No Unity Instance found.",requestFullscreenNoUnityInstance:"Unable to Set Fullscreen while Unity is not Instantiated.",requestPointerLockNoUnityInstanceOrCanvas:"Unable to Request Pointer Lock while Unity is not Instantiated or the Canvas is not found.",sendMessageNoUnityInstance:"Unable to Send Message while Unity is not Instantiated.",quitNoUnityInstance:"Unable to Quit Unity while Unity is not Instantiated.",screenshotNoUnityInstanceOrCanvas:"Unable to Take Screenshot while Unity is not Instantiated or Canvas is not available.",noEventListener:"Unable to find Event Listener in Event System for Event"}},1539:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserEnvironment=void 0,t.isBrowserEnvironment="undefined"!=typeof window&&"undefined"!=typeof document},3896:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.UnityLoaderStatus=void 0,(r=n||(t.UnityLoaderStatus=n={})).Idle="Idle",r.Loading="Loading",r.Loaded="Loaded",r.Error="Error"},7442:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUnityContext=t.Unity=void 0;var r=n(9929);Object.defineProperty(t,"Unity",{enumerable:!0,get:function(){return r.Unity}});var a=n(7102);Object.defineProperty(t,"useUnityContext",{enumerable:!0,get:function(){return a.useUnityContext}})},5118:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2==arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.useEventSystem=void 0;var a=n(7294),o=n(9090),i=n(1539),s=[];!0===i.isBrowserEnvironment&&(window.dispatchReactUnityEvent=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var a=void 0;return s.forEach(function(n){a=n.apply(void 0,r([e],t,!1))}),a}),t.useEventSystem=function(){var e=(0,a.useRef)([]),t=(0,a.useCallback)(function(t,n){e.current=r(r([],e.current,!0),[{eventName:t,callback:n}],!1)},[e]),n=(0,a.useCallback)(function(t,n){e.current=e.current.filter(function(e){return e.eventName!==t&&e.callback!==n})},[e]),i=(0,a.useCallback)(function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=e.current.find(function(e){return e.eventName===t});if(void 0===a){console.warn(o.errorMessages.noEventListener,{eventName:t});return}return a.callback.apply(a,n)},[e]);return(0,a.useEffect)(function(){return s.push(i),function(){s.splice(s.indexOf(i),1)}},[i]),{addEventListener:t,removeEventListener:n}}},2345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNullableState=void 0;var r=n(7294);t.useNullableState=function(e){return(0,r.useState)(e||null)}},8396:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUnityArguments=void 0;var r=n(7294);t.useUnityArguments=function(e){return(0,r.useMemo)(function(){return{dataUrl:e.unityProvider.unityConfig.dataUrl,frameworkUrl:e.unityProvider.unityConfig.frameworkUrl,codeUrl:e.unityProvider.unityConfig.codeUrl,streamingAssetsUrl:e.unityProvider.unityConfig.streamingAssetsUrl,memoryUrl:e.unityProvider.unityConfig.memoryUrl,symbolsUrl:e.unityProvider.unityConfig.symbolsUrl,companyName:e.unityProvider.unityConfig.companyName,productName:e.unityProvider.unityConfig.productName,productVersion:e.unityProvider.unityConfig.productVersion,webglContextAttributes:e.unityProvider.unityConfig.webglContextAttributes||{},cacheControl:e.unityProvider.unityConfig.cacheControl||function(){return"must-revalidate"},devicePixelRatio:e.devicePixelRatio||1,matchWebGLToCanvasSize:"boolean"!=typeof e.matchWebGLToCanvasSize||e.matchWebGLToCanvasSize,disabledCanvasEvents:e.disabledCanvasEvents||["contextmenu","dragstart"],print:function(e){},printErr:function(e){}}},[])}},25:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUnityCanvasId=void 0;var r=n(7294),a=0;t.useUnityCanvasId=function(e){return void 0!==e.id?e.id:(0,r.useMemo)(function(){return["react-unity-webgl-canvas",++a].join("-")},[])}},7102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUnityContext=void 0;var r=n(7294),a=n(9090),o=n(5118),i=n(2345);t.useUnityContext=function(e){var t=(0,i.useNullableState)(),n=t[0],s=t[1],l=(0,r.useState)(0),u=l[0],c=l[1],d=(0,r.useState)(!1),f=d[0],y=d[1],m=(0,i.useNullableState)(),v=m[0],h=m[1],p=(0,o.useEventSystem)(),_=(0,r.useRef)({setLoadingProgression:c,setInitialisationError:h,setUnityInstance:s,setIsLoaded:y,unityConfig:e}),b=(0,r.useCallback)(function(e){if(null===n){console.warn(a.errorMessages.requestFullscreenNoUnityInstance);return}n.SetFullscreen(!0===e?1:0)},[n]),g=(0,r.useCallback)(function(){if(null===n||void 0===n.Module.canvas){console.warn(a.errorMessages.requestPointerLockNoUnityInstanceOrCanvas);return}return n.Module.canvas.requestPointerLock()},[n]),w=(0,r.useCallback)(function(e,t,r){if(null===n){console.warn(a.errorMessages.sendMessageNoUnityInstance);return}n.SendMessage(e,t,r)},[n]),E=(0,r.useCallback)(function(e,t){if(null===n||void 0===n.Module.canvas){console.warn(a.errorMessages.screenshotNoUnityInstanceOrCanvas);return}return n.Module.canvas.toDataURL(e,t)},[n]),S=(0,r.useCallback)(function(){return null===n?(console.warn(a.errorMessages.quitNoUnityInstance),Promise.reject()):n.Quit()},[n]);return(0,r.useEffect)(function(){y(1===u)},[u]),{unityProvider:_.current,loadingProgression:u,initialisationError:v,isLoaded:f,UNSAFE__unityInstance:n,requestFullscreen:b,requestPointerLock:g,sendMessage:w,unload:S,takeScreenshot:E,addEventListener:p.addEventListener,removeEventListener:p.removeEventListener}}},5421:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.useUnityInstance=void 0;var o=n(7294),i=n(3896),s=n(1539);t.useUnityInstance=function(e,t,n,l){(0,o.useEffect)(function(){r(void 0,void 0,void 0,function(){var r,o;return a(this,function(a){switch(a.label){case 0:if(!1===s.isBrowserEnvironment)return[2];if(e!==i.UnityLoaderStatus.Loaded||null===t)return l.setUnityInstance(null),l.setInitialisationError(null),[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,window.createUnityInstance(t,n,l.setLoadingProgression)];case 2:return r=a.sent(),l.setUnityInstance(r),l.setInitialisationError(null),[3,4];case 3:return o=a.sent(),l.setUnityInstance(null),l.setInitialisationError(o),[3,4];case 4:return[2]}})})},[e,t,n,l])}},2340:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUnityLoader=void 0;var r=n(7294),a=n(1539),o=n(3896);t.useUnityLoader=function(e){var t=(0,r.useState)(o.UnityLoaderStatus.Loading),n=t[0],i=t[1];return(0,r.useEffect)(function(){if(!1!==a.isBrowserEnvironment){if(null===e.loaderUrl){i(o.UnityLoaderStatus.Idle);return}var t=window.document.querySelector('script[src="'.concat(e.loaderUrl,'"]'));null===t?((t=window.document.createElement("script")).type="text/javascript",t.src=e.loaderUrl,t.async=!0,t.setAttribute("data-status","loading"),window.document.body.appendChild(t),t.addEventListener("load",function(){return null==t?void 0:t.setAttribute("data-status","loaded")}),t.addEventListener("error",function(){return null==t?void 0:t.setAttribute("data-status","error")})):i("loaded"===t.getAttribute("data-status")?o.UnityLoaderStatus.Loaded:o.UnityLoaderStatus.Error);var n=function(e){return i("load"===e.type?o.UnityLoaderStatus.Loaded:o.UnityLoaderStatus.Error)};return t.addEventListener("load",n),t.addEventListener("error",n),function(){null!==t&&(t.removeEventListener("load",n),t.removeEventListener("error",n),window.document.body.removeChild(t))}}},[e.loaderUrl]),n}}},function(e){e.O(0,[664,651,299,888,774,179],function(){return e(e.s=7454)}),_N_E=e.O()}]);